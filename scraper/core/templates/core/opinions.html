{% extends 'base.html' %}


{% block content %}

    <form action="{% url 'products' %}" method="post">
        {% csrf_token %}
        <input type='hidden' value='{{opinion.product_id}}' name="product_id">
        <td><button type='submit' class='btn btn-sm btn-warning'>Pobierz opinie w pliku .json</button>
        </td>
    </form>

    <table class="table mt-5 table-responsive table-striped table-light">
        <tbody>
            <thead>
                <tr>
                    <th scope="col">Autor</th>
                    <th scope="col">Rekomendacja</th>
                    <th scope="col">Ocena</th>
                    <th scope="col">Zaufana opinia</th>
                    <th scope="col">Data wystawienia</th>
                    <th scope="col">Data zakupu</th>
                    <th scope="col">Opinia uznana za przydatną</th>
                    <th scope="col">Opinia uznana za nieprzydatną</th>
                    <th scope="col">Treść</th>
                    <th scope="col">Wady</th>
                    <th scope="col">Zalety</th>
                </tr>
            </thead>
            {% for opinion in page_obj %}
            <tr>
                <td>{{opinion.author}}</td>
                <td>{% if opinion.recomendation %}POLECAM {% else %} NIE POLECAM {% endif %}</td>
                <td>{{opinion.stars}}/5</td>
                <td>{% if opinion.confirmed_by_purchase %}TAK {% else %}NIE {% endif %}</td>
                <td>{{opinion.issue_date}}</td>
                <td>{% if opinion.purchase_date is not None %}{{opinion.purchase_date}}{% endif %}</td>
                <td>{{opinion.usefull}}</td>
                <td>{{opinion.useless}}</td>
                <td>{{opinion.content}}</td>
                <td>{{opinion.cons}}</td>
                <td>{{opinion.pros}}</td>
            </tr>


            {% endfor %}
        </tbody>
    </table>
    {% comment %} pagination {% endcomment %}
    <div class="pagination">
        <span class="ml-auto step-links">


            <span class="current">
                Strona {{ page_obj.number }} z {{ page_obj.paginator.num_pages }}.
            </span>
            {% if page_obj.has_previous %}
            <a style='color:black' href="?page={{ page_obj.previous_page_number }}"><br>poprzednia</a>
            {% endif %}
            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}"><br>następna</a>
            {% endif %}
        </span>
    </div>


{% endblock  %}